{% extends "base.html" %}

{% block content %}
<div class="deposit-calculator">
    <h4>üí∞ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤–∫–ª–∞–¥–æ–≤</h4>
    <form class="calculator-form" id="deposit-form">
        <div class="form-group">
            <label for="amount">–°—É–º–º–∞ –≤–∫–ª–∞–¥–∞ (‚ÇΩ):</label>
            <input type="number" id="amount" value="100000" min="1000" step="1000" required>
        </div>
        
        <div class="form-group">
            <label for="term">–°—Ä–æ–∫ (–º–µ—Å—è—Ü–µ–≤):</label>
            <select id="term" required>
                <option value="3">3 –º–µ—Å—è—Ü–∞ (5%)</option>
                <option value="6">6 –º–µ—Å—è—Ü–µ–≤ (6%)</option>
                <option value="12">1 –≥–æ–¥ (7%)</option>
                <option value="24">2 –≥–æ–¥–∞ (8%)</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="type">–¢–∏–ø –≤–∫–ª–∞–¥–∞:</label>
            <select id="type" required>
                <option value="simple">–ü—Ä–æ—Å—Ç–æ–π (–±–µ–∑ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏)</option>
                <option value="compound">–° –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π</option>
            </select>
        </div>
        
        <button type="button" class="calculate-btn" onclick="calculateDeposit()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
    </form>
    
    <div class="result" id="result" style="display: none;">
        <h5>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h5>
        <p id="result-text"></p>
    </div>
</div>

<script>
function calculateDeposit() {
    const amount = parseFloat(document.getElementById('amount').value);
    const term = parseInt(document.getElementById('term').value);
    const type = document.getElementById('type').value;
    
    // –ü—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ä–æ–∫–∞
    const rates = {3: 5, 6: 6, 12: 7, 24: 8};
    const rate = rates[term] || 5;
    
    let total, profit;
    
    if (type === 'simple') {
        // –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç
        profit = (amount * rate * term / 12) / 100;
        total = amount + profit;
    } else {
        // –°–ª–æ–∂–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç (–µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è)
        const monthlyRate = rate / 12 / 100;
        total = amount * Math.pow(1 + monthlyRate, term);
        profit = total - amount;
    }
    
    const resultDiv = document.getElementById('result');
    const resultText = document.getElementById('result-text');
    
    resultText.innerHTML = `
        <strong>–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞:</strong> ${total.toFixed(2)} ‚ÇΩ<br>
        <strong>–î–æ—Ö–æ–¥:</strong> ${profit.toFixed(2)} ‚ÇΩ<br>
        <strong>–°—Ç–∞–≤–∫–∞:</strong> ${rate}% –≥–æ–¥–æ–≤—ã—Ö<br>
        <strong>–°—Ä–æ–∫:</strong> ${term} –º–µ—Å—è—Ü–µ–≤
    `;
    
    resultDiv.style.display = 'block';
}

// –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', calculateDeposit);
</script>
{% endblock %}